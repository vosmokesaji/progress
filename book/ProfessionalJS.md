# 第一章 JavaScript 简介

- 要想全面理解和掌握 JavaScript ， 关键在于弄清楚它的**本质**、**历史**和**局限性** 

## JavaScript 简史
1. 1995.2 Netscape - JavaScript
2. 1996.8 微软 - JScript
3. 因为两个版本的差异问题，标准化被提上日程
4. 1997年 ECMA 完成了 ECMAScript 的标准制定

## JavaScript 实现
- 核心（ECMAScript）
- 文档对象模型（DOM）
- 浏览器对象模型（BOM）

### ECMAScript
- 版本：1 -> 2 -> 3(标志着 ECMAScript 成为了一门真正的编程语言) -> 4（因改动太过激进，被放弃） -> 5（实际是叫 ECMAScript3.1 投票胜过了 4） -> 6
- ECMAScript 兼容
- Web 浏览器对 ECMAScript 的支持

### 文档对象模型（DOM）
- 借助 DOM API ，开发者可以轻松的删除、添加、替换或修改人和节点
- DOM 的操作带来了进步，也带来了 Netscape 和 微软 的两强割据，浏览器互不兼容的局面
- DOM 级别：
    - DOM1 ：DOM 核心、 DOM HTML
    - DOM2 ：DOM 事件、 DOM 样式、 DOM 遍历和范围
    - DOM3 ：统一的加载和保存文档的方法；验证文档的方法；扩展了 DOM 核心
- 其他 DOM 标准： 
    - SVG 可伸缩矢量图
    - MathML 数学标记语言
    - SMIL 同步多媒体集成语言

### 浏览器对象模型（BOM）
- 直到 HTML5 才标准化


# 第二章 在 HTML 中使用 JavaScript

## 使用 ```<script>``` 元素
1. 在 ```<script>``` 写 JavaScript 代码
    - 注意代码中不要出现 ```"</script>"``` ，浏览器会认为这是结束标签，可以通过转义字符 ```\``` 解决这个问题： ```"<\/script>"```
2. 通过 ```src``` 引入外部的 JS ， 注意如果这样的标签中还嵌入了 js 代码，则嵌入的代码会被忽略

- 如果遇到 ```<script>``` 元素，页面解析会暂时停止

### ```<script>``` 的位置
- 为避免页面空白，一般放在 ```</body>``` 之前
  
#### 延迟脚本
- ```defer="defer"``` ，**立即下载 ，但延迟执行**
- 只适用于外部脚本文件，嵌入的js会被忽略
- HTML5 标准要求按先后顺序执行，并且先于 ```DOMContentLoaded``` 事件执行
- **但是**现实却不一定，因此**页面最好只包含一个延迟脚本**
- 放在底部仍然是最佳选择

#### 异步脚本
- ```async="async"``` 
- 不保证按引入顺序执行，因此**多个异步脚本之间不能有依赖关系**
- 一定会在 ```load``` 事件前执行
- 可能会在 ```DOMContentLoaded``` 之前或之后执行

## 嵌入代码 与 外部文件
- 外部文件的优势
    - 可维护性
    - 可缓存
    - 适应未来

## 文档模式
- 主要影响 CSS 和内容呈现，在某些情况下也会影响 JS 的执行

## ```<noscript>``` 元素

- ```<noscript>``` 元素可以在不支持脚本的浏览器中显示代替的内容，在启用了脚本的情况下浏览器不会显示 ```<noscript>``` 元素中的任何内容

# 第三章 基本概念

## 语法
- 区分大小写
- 标识符：指 **变量 、 函数 、 属性** 的名字
    - 第一个字符必须是 **字母 、 下划线 、 或者美元符号**
    - 其他可以是 **字母 、 下划线 、 美元符号或者数字**
- 惯例：小驼峰
- 注释：
    - 单行注释 
    ```javascript
    // 单行注释
    ```
    - 多行（块级）注释 
    ```javascript
    /* 多行注释
    多行注释 */
    ```
- ECMAScript5 引入了**严格模式**： 在js顶部添加这句代码 ```"use strict"``` （是一个 **编译指示**）也可以用在函数体中
- 语句结束的分号： **不必须，但建议不要省略**
- 始终在条件控制语句中使用代码块 ```{}``` ，即使代码块中只有一条语句


## 关键字 和 保留字
- **关键字** 和 **保留字** 不能用作标识符

## 变量
- 使用 ```var``` 
- 建议在定义时初始化
- 不建议修改变量保存的值得类型
- 如果忽略 ```var``` 就会创建全局变量 （严格模式会报错）
- 可以用一条语句定义多个变量，逗号分隔，可以用换行和缩进**提高可读性**


## 数据类型
- 5种简单数据类型： ```Undefined``` 、 ```Null``` 、 ```Boolean``` 、 ```Number``` 、 ```String```
- 一种复杂数据类型： ```Object```
- ```typeof``` 返回字符串
    - ```undefined``` —— 如果这个值未定义
    - ```boolean``` —— 如果这个值是布尔值
    - ```string``` —— 如果这个值是字符串
    - ```number``` —— 如果这个值是数字
    - ```object``` —— 如果这个值是**对象 或 null**
    - ```function``` —— 如果这个值是函数

### Undefined 类型
- **声明但未初始化（赋值）** 的变量值就是 undefined
- 与尚未定义的变量还是不一样的
    ```javascript
    var message;

    alert(message);     // undefined
    alert(age);         // 报错
    ```
- 对于未声明的变量只能执行一项操作，即使用 typeof 监测其数据类型
- 但问题在：未声明的变量使用 typeof 也会返回 undefined
- 如果能做到**声明就初始化**，我们就能在使用 typeof 返回 undefined 时确认变量未声明而不是未初始化

### Null 类型
- null 值表示一个 **空对象指针**
- 如果声明的变量准备保存对象，最好初始化为 null

### Boolean 类型
- 只有两个字面值 true false
- 只有 ```空字符串``` 、 ```0 和 NaN``` 、 ```null``` 、 ```undefined``` 会被转换为 ```false``` ，其他都会被转为 ```true```

### Number 类型
- 使用 IEEE754 格式表示整数和浮点数值
- ```0``` 开头表示 **八进制** （不建议使用）
- ```0x``` 开头表示 **十六进制**
- 其他是 **十进制**
- 计算时，结果均为十进制

#### 浮点值
- 整数可忽略但不建议这样写
- 科学计数法： ```3.125e7 和 31250000 相等```
- 浮点数值最高精度 **17位** 
- 浮点数计算会产生 **舍入误差** 的问题，是使用 IEEE754 数值的浮点计算的通病

#### 数值范围
- 最小的数 ```Number.MIN_VALUE``` （大多数浏览器中 ```5e-234``` ）
- 最大的数 ```Number.MAX_VALUE``` （大多数浏览器中 ```1.7976931348632157e+308``` ）
- 如果超出范围会被转换成 ```Infinity``` 或者 ```-Infinity```
- 可以使用 ```isFinite()``` 函数，如果在最大与最小值范围内，会返回 ```true```

#### NaN
- 用来表示本来要返回数值的操作数未返回数值的情况
- 特点：
    - 任何涉及 NaN 的计算都会返回 NaN
    - NaN 与任何值都不相等， 包括 NaN
- 可以用 ```isNaN()``` 检测

#### 数值转换
- ```Number()``` 的转换规则 （参见 Page.30）
- ```parseInt()``` 第二个参数是表示进制的基数
- ```parseFloat()``` 只解析十进制，十六进制会被解析为0


### String 类型
- ```''``` 或 ```""``` 
- 转义序列的长度为 1 
- length 对于包含 **双字节字符** 不会精确的返回字符数目
- 字符串不会变
- 可以通过 ```toString()``` 转为字符串，参数可以传基数 返回不同进制的数字
- null 和 undefined 没有 ```toString()``` 这个方法 ，不知道是不是 null 或 undefined 的情况下可以通过 ```String()``` 方法：
    - 如果值有 ```toString()``` 方法，调用该方法（不传参）
    - 如果值是 ```null``` 返回 ```null```
    - 如果值是 ```undefined``` 返回 ```undefined```

### Object 类型
- 对象就是一组 **数据** （也叫属性） 和 **功能** （也叫方法）的集合
- Object 每个实例都有以下属性和方法：
    - ```constructor``` ： 构造函数
    - ```hasOwnProperty(propertyName)``` ： 检查属性是否在当前对象中存在（非原型中）
    - ```isPrototypeOf(object)``` ： 检查传入的对象是不是当前对象的原型
    - ```propertyIsEnumerable(propertyName)``` ： 减产这个属性能不能用 ```for-in``` 遍历
    - ```toLocalString()``` ： 返回对象的字符串表示，与地区对应
    - ```toString()``` ： 返回对象的字符串表示
    - ```valueOf()``` ： 返回对象的字符串、数值或者布尔值表示，通常和 ```toString()``` 返回值相同


# 第四章 变量作用域和内存










# 第五章 引用类型









# 第六章 面向对象的程序设计









# 第七章 函数表达式









# 第八章 BOM









# 第九章 客户端检测









# 第十章 DOM









# 第十一章 DOM 扩展









# 第十二章 DOM2 和 DOM3









# 第十三章 事件









# 第十四章 表单脚本









# 第十五章 使用 canvas 绘图









# 第十六章 HTML5 脚本编程









# 第十七章 错误处理与调试









# 第十八章 JavaScript 与 XML









# 第十九章 E4X









# 第二十章 JSON









# 第二十一章 Ajax 与 Comet









# 第二十二章 高级技巧









# 第二十三章 离线应用于客户端存储 









# 第二十四章 最佳实践









# 第二十五章 新兴 API 









